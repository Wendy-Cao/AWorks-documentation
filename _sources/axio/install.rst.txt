安装  
====

PIP 安装
--------

1. 安装 **Python2.7.11** 及以上版本 [#]_ 

2. 在 CMD 或 BASH 中执行如下安装命令 [#]_ 


 .. code-block:: bash

    pip install http://share/public/docs/spd/artifacts/production/develop/package/axio/axio-stable.tar.gz

 若使用 git-bash ，可能会出现安装卡死，则需要加上 ``winpty`` 前缀：

 .. code-block:: bash

    winpty pip install http://share/public/docs/spd/artifacts/production/develop/package/axio/axio-stable.tar.gz

3. 安装成功后, 可输入如下命令查看版本：
   
 .. code-block:: bash
    
    $ axio --version
    axio, version 1.0.41-a.10


初始配置
--------

安装完毕后，需要做如下配置，否则不能正常工作。

1. 设置 ``AXIO_HOME_DIR``
   
   ``AXIO_HOME_DIR`` 用于存放 axio 安装的各种包，以及 cache 和用户配置，默认路径为 ``D:\.axio`` ，如需改变此路径，可以在系统中添加环境变量 ``AXIO_HOME_DIR`` 进行指定。

   .. note:: 改变 ``AXIO_HOME_DIR`` 后，用户名、密码等配置需要重新设置，也可以将旧路径中的 ``appstate.json`` 拷贝到新路径以使用相同的配置


2. 配置用户名和密码

  axio 会在必要的时候自动下载各种包，需要您提供域账户和密码，不正确的账户将会导致包下载失败，执行如下命令进行配置
  
  .. code-block:: bash

    axio settings set webdav_username  your_pc_accout
    axio settings set webdav_password  your_pc_password

  配置完毕后，可执行如下命令进行检查，也可以直接打开 ``{$AXIO_HOME_DIR}/appstate.json`` 检查
  
  .. code-block:: bash
  
    axio settings get

  最后，可执行升级命令来检查网络、权限是否正常

  .. code-block:: base
  
      $ axio upgrade
      You're up-to-date!
      axio 1.0.40 is currently the newest version available.

其他
----

颜色
^^^^

axio 具有颜色输出，Windows CMD 中执行 axio 会自动加上颜色，git-bash 中默认没有颜色，可以在命令前加上 winpty 来启用颜色，比如 ``winpty axio build`` 。



----

.. [#] 不支持Python3 
.. [#] 使用 git-bash 时请加上 winpty ；安装会要求用户名和密码，请输入个人工作电脑的开机用户名和密码；也可以直接下载链接文件到本地，然后执行 ``pip install axio-stable.tar.gz`` 进行安装




